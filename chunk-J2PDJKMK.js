import{g as E,k as N}from"./chunk-4JG5HFOE.js";import"./chunk-VV24HN3E.js";import{$b as U,A as _,Ab as k,K as x,Nb as F,O as a,P as y,Q as C,Tb as T,U as p,Vb as j,Xa as v,Xb as I,Zb as S,ba as d,ca as h,da as u,ia as w,ja as M,ka as l,pb as P,v as b,z as g,zb as O}from"./chunk-7J63SMGH.js";var $={formId:"user",title:"Profile Settings",components:[{name:"Text",key:"name",focused:!0,fields:[{name:"Placeholder",value:"Enter your name"},{name:"Label",value:"Name"}]},{name:"Text",key:"phone",fields:[{name:"Placeholder",value:"Enter your phone"},{name:"Label",value:"Phone"}]},{name:"Text",key:"bio",fields:[{name:"Placeholder",value:"Enter your bio"},{name:"Label",value:"Bio"},{name:"Textarea",value:!0}]},...T.userForm||[]]};function L(n,e){if(n&1){let s=w();h(0,"winput",3),M("wChange",function(r){let t=g(s).$implicit,c=l().$implicit,m=l();return t.is[c]=r,_(m.update(t))}),u()}if(n&2){let s=e.$implicit,i=l().$implicit;d("value",s.is[i])}}function V(n,e){if(n&1&&p(0,L,1,1,"ng-template",2),n&2){let s=e.$implicit;d("cell",s)}}var D=(()=>{let e=class e{get roles(){return this._us.roles}get users(){return this._us.users}constructor(i,r,t,c,m){this._translate=i,this._alert=r,this._form=t,this._core=c,this._us=m,this.form=this._form.prepareForm($),this.config={create:()=>{this._form.modal(this.form,{label:"Create",click:(o,f)=>{this._us.create(o,{alert:"User has been created",callback:f.bind(this)})}}).then(this._us.create.bind(this))},update:o=>{this._form.modal(this.form,[],o).then(f=>{this._core.copy(f,o),this._us.update(o,{alert:"User has been updated"})})},delete:o=>{this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this user?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>{this._us.delete(o,{name:"admin",alert:"User has been deleted",callback:()=>{}})}}]})},headerButtons:[{icon:"playlist_add",click:this._bulkManagement(),class:"playlist"},{icon:"edit_note",click:this._bulkManagement(!1),class:"edit"}]},this.columns=["name","email"];for(let o of this._us.roles)this.columns.push(o)}update(i){this._us.updateAdmin(i)}_bulkManagement(i=!0){return()=>{this._form.modalDocs(i?[]:this.users).then(r=>{for(let t of this.users)r.find(c=>c._id===t._id)||this._us.delete(t);for(let t of r)i?this._us.create(t):(this._core.copy(t,this._us.doc(t._id)),this._us.update(t))})}}};e.\u0275fac=function(r){return new(r||e)(a(j),a(O),a(I),a(k),a(E))},e.\u0275cmp=y({type:e,selectors:[["app-users"]],standalone:!1,decls:2,vars:4,consts:[["title","Users",3,"columns","config","rows"],[4,"ngFor","ngForOf"],[3,"cell"],["type","checkbox",3,"wChange","value"]],template:function(r,t){r&1&&(h(0,"wtable",0),p(1,V,1,1,null,1),u()),r&2&&(d("columns",t.columns)("config",t.config)("rows",t.users),x(),d("ngForOf",t.roles))},dependencies:[v,F,U,S],styles:["[_ngcontent-%COMP%]:root{--b-radius: 8px;--c-white: #fff;--c-basic: #3558ae;--c-primary: #256eff;--c-primary-hover: #0051f1;--c-secondary: rgb(197, 61, 61);--c-secondary-hover: rgb(150, 42, 42);--c-bg-primary: #f3f4f7;--c-bg-secondary: #ffffff;--c-bg-tertiary: #fcfdfe;--c-border: #444444;--c-shadow: #f3f3f3;--c-text-primary: #666666;--c-text-secondary: #19235c;--c-placeholder: #313335ab;--c-img-round: 50%;--card-background: #fefefe;--card-border-radius: 10px;--card-box-shadow: 0 4px 12px rgba(0, 0, 0, .15);--card-margin-bottom: 24px;--card-header-padding: 20px;--card-header-background: #e0e0e0;--card-body-padding: 20px;--card-section-padding: 10px 0;--card-footer-padding: 20px;--card-footer-background: #e0e0e0;--card-border-width: 2px;--card-border-color: #cccccc;--file-img-border-radius: 50%;--file-add-bg: #28a745;--file-add-bg-hover: #218838;--file-item-border-radius: 10px;--day-name: #988888;--b-radius-btn: 10px;--transition: all .3s;--events: #4c8e9d;--border: rgba(102, 91, 91, .432);--header-doc:#d8d8d8;--doc-products:#f5f5f5;--card-body:#1f1d1d;--card-body-h:#000000;--btn-secondary: #466bb5;--btn-secondary-h: #3f5e9d;--btn-success: #4ddd6f;--btn-success-h: #45c062;--btn-warning: #c8e02a;--btn-warning-h: #adc224;--btn-light:#ebdfdf;--btn-light-h:#ffffff;--btn-dark:#1e293f;--btn-dark-h:#0c1119;--item-h:#dddddda3}html.dark[_ngcontent-%COMP%]:root{--c-white: #fff;--c-basic: #333;--c-bg-primary: #282828;--c-bg-secondary: #343434;--c-bg-tertiary: #404040;--c-border: #f3ecec87;--c-shadow: #444444;--c-text-primary: #ffffff;--c-text-secondary: #ffffff;--c-placeholder: #d3cdcd;--c-calendar: #141414;--day-name: #dad5d5;--events: #1c2e32;--border: rgb(255 255 255 / 23%);--header-doc:#1b1b1be3;--doc-products:#252222;--card-body:#1f1d1d;--card-body-h:#000000;--btn-secondary: #466bb5;--btn-secondary-h: #3f5e9d;--btn-success: #4ddd6f;--btn-success-h: #45c062;--btn-warning: #c8e02a;--btn-warning-h: #adc224;--btn-light:#ebdfdf;--btn-light-h:#ffffff;--btn-dark:#1e293f;--item-h:#343434a3}.w-table-user[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.w-table-user__img[_ngcontent-%COMP%]{width:30px;height:30px;min-width:30px;min-height:30px;margin-right:10px}.w-table-user__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:var(--b-radius-img)}@media (max-width: 991.9px){.w-table-user__img[_ngcontent-%COMP%]{display:none}}@media (max-width: 991.9px){.w-table[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%], .w-table[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{display:none}}.w-table[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{height:18px;max-height:18px;display:block}.w-table[_ngcontent-%COMP%]   .checkbox__body[_ngcontent-%COMP%]{padding:2px}.users-field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end}.users-field[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin:10px}.users-field[_ngcontent-%COMP%]   .forms[_ngcontent-%COMP%]{width:100%}@media (max-width: 575.9px){.users-field[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.users-field[_ngcontent-%COMP%]   .w-btn[_ngcontent-%COMP%]{margin-bottom:20px;width:100%}}.w-table__td.actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{transition:var(--transition)}.w-table__td.actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{color:var(--c-error)}.w-table__td.actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] + i[_ngcontent-%COMP%]{margin-left:15px}.users__header[_ngcontent-%COMP%]{letter-spacing:0;line-height:23px;font-weight:500;font-size:20px;color:var(--c-text-primary);display:flex;justify-content:space-between;align-items:center;border-radius:var(--b-radius)}"]});let n=e;return n})();var B=[{path:"",component:D}],re=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=C({type:e}),e.\u0275inj=b({imports:[P.forChild(B),N]});let n=e;return n})();export{re as UsersModule};
