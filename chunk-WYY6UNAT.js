import{a as ee}from"./chunk-62BC5FQB.js";import{g as Y,k as X}from"./chunk-4JG5HFOE.js";import"./chunk-VV24HN3E.js";import{A as B,E as L,Ea as K,F as G,G as j,K as u,O as m,P as f,Q as v,R as W,U as H,Ua as Q,V as z,W as _,a as w,b as O,ba as k,ca as i,da as n,db as $,ea as h,h as T,i as A,ia as V,ja as p,ka as E,la as N,lb as q,ma as U,n as D,pb as J,q as R,ta as b,ua as a,v as y,w as F,y as c,z as Z}from"./chunk-7J63SMGH.js";var oe=["*"],C=class{_ngZone;_pending=[];_listeners=[];_targetStream=new A(void 0);_clearListeners(){for(let s of this._listeners)s.remove();this._listeners=[]}constructor(s){this._ngZone=s}getLazyEmitter(s){return this._targetStream.pipe(R(e=>{let t=new T(l=>{if(!e){this._pending.push({observable:t,observer:l});return}let o=e.addListener(s,g=>{this._ngZone.run(()=>l.next(g))});if(!o){l.complete();return}return this._listeners.push(o),()=>o.remove()});return t}))}setTarget(s){let e=this._targetStream.value;s!==e&&(e&&(this._clearListeners(),this._pending=[]),this._targetStream.next(s),this._pending.forEach(t=>t.observable.subscribe(t.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},M={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},te="500px",ie="500px",x=(()=>{class r{_elementRef=c(G);_ngZone=c(_);_eventManager=new C(c(_));_mapEl;_existingAuthFailureCallback;googleMap;_isBrowser;height=te;width=ie;mapId;mapTypeId;set center(e){this._center=e}_center;set zoom(e){this._zoom=e}_zoom;set options(e){this._options=e||M}_options=M;mapInitialized=new z;authFailure=new z;boundsChanged=this._eventManager.getLazyEmitter("bounds_changed");centerChanged=this._eventManager.getLazyEmitter("center_changed");mapClick=this._eventManager.getLazyEmitter("click");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");mapDragstart=this._eventManager.getLazyEmitter("dragstart");headingChanged=this._eventManager.getLazyEmitter("heading_changed");idle=this._eventManager.getLazyEmitter("idle");maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed");mapMousemove=this._eventManager.getLazyEmitter("mousemove");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");projectionChanged=this._eventManager.getLazyEmitter("projection_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");tilesloaded=this._eventManager.getLazyEmitter("tilesloaded");tiltChanged=this._eventManager.getLazyEmitter("tilt_changed");zoomChanged=this._eventManager.getLazyEmitter("zoom_changed");constructor(){let e=c(j);if(this._isBrowser=$(e),this._isBrowser){let t=window;t.google,this._existingAuthFailureCallback=t.gm_authFailure,t.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(e){(e.height||e.width)&&this._setSize();let t=this.googleMap;t&&(e.options&&t.setOptions(this._combineOptions()),e.center&&this._center&&t.setCenter(this._center),e.zoom&&this._zoom!=null&&t.setZoom(this._zoom),e.mapTypeId&&this.mapTypeId&&t.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(e=>this._initialize(e.Map))}))}_initialize(e){this._ngZone.runOutsideAngular(()=>{this.googleMap=new e(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let e=window;e.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(e,t){this._assertInitialized(),this.googleMap.fitBounds(e,t)}panBy(e,t){this._assertInitialized(),this.googleMap.panBy(e,t)}panTo(e){this._assertInitialized(),this.googleMap.panTo(e)}panToBounds(e,t){this._assertInitialized(),this.googleMap.panToBounds(e,t)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(D(1)).toPromise()}_setSize(){if(this._mapEl){let e=this._mapEl.style;e.height=this.height===null?"":ne(this.height)||te,e.width=this.width===null?"":ne(this.width)||ie}}_combineOptions(){let e=this._options||{};return O(w({},e),{center:this._center||e.center||M.center,zoom:this._zoom??e.zoom??M.zoom,mapTypeId:this.mapTypeId||e.mapTypeId||M.mapTypeId,mapId:this.mapId||e.mapId})}_assertInitialized(){this.googleMap}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=f({type:r,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[L],ngContentSelectors:oe,decls:2,vars:0,consts:[[1,"map-container"]],template:function(t,l){t&1&&(N(),h(0,"div",0),U(1))},encapsulation:2,changeDetection:0})}return r})(),le=/([A-Za-z%]+)$/;function ne(r){return r==null?"":le.test(r)?r:`${r}px`}var ge=new F("MAP_MARKER"),de={position:{lat:37.421995,lng:-122.084092}},ae=(()=>{class r{_googleMap=c(x);_ngZone=c(_);_eventManager=new C(c(_));set title(e){this._title=e}_title;set position(e){this._position=e}_position;set label(e){this._label=e}_label;set clickable(e){this._clickable=e}_clickable;set options(e){this._options=e}_options;set icon(e){this._icon=e}_icon;set visible(e){this._visible=e}_visible;animationChanged=this._eventManager.getLazyEmitter("animation_changed");mapClick=this._eventManager.getLazyEmitter("click");clickableChanged=this._eventManager.getLazyEmitter("clickable_changed");cursorChanged=this._eventManager.getLazyEmitter("cursor_changed");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");draggableChanged=this._eventManager.getLazyEmitter("draggable_changed");mapDragstart=this._eventManager.getLazyEmitter("dragstart");flatChanged=this._eventManager.getLazyEmitter("flat_changed");iconChanged=this._eventManager.getLazyEmitter("icon_changed");mapMousedown=this._eventManager.getLazyEmitter("mousedown");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");mapMouseup=this._eventManager.getLazyEmitter("mouseup");positionChanged=this._eventManager.getLazyEmitter("position_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");shapeChanged=this._eventManager.getLazyEmitter("shape_changed");titleChanged=this._eventManager.getLazyEmitter("title_changed");visibleChanged=this._eventManager.getLazyEmitter("visible_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");markerInitialized=new z;marker;constructor(){}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([e,t])=>{this._initialize(e,t.Marker)})}))}_initialize(e,t){this._ngZone.runOutsideAngular(()=>{this.marker=new t(this._combineOptions()),this._assertInitialized(),this.marker.setMap(e),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(e){let{marker:t,_title:l,_position:o,_label:g,_clickable:d,_icon:P,_visible:S}=this;t&&(e.options&&t.setOptions(this._combineOptions()),e.title&&l!==void 0&&t.setTitle(l),e.position&&o&&t.setPosition(o),e.label&&g!==void 0&&t.setLabel(g),e.clickable&&d!==void 0&&t.setClickable(d),e.icon&&P&&t.setIcon(P),e.visible&&S!==void 0&&t.setVisible(S))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(D(1)).toPromise()}_combineOptions(){let e=this._options||de;return O(w({},e),{title:this._title||e.title,position:this._position||e.position,label:this._label||e.label,clickable:this._clickable??e.clickable,map:this._googleMap.googleMap,icon:this._icon||e.icon,visible:this._visible??e.visible})}_assertInitialized(){}static \u0275fac=function(t){return new(t||r)};static \u0275dir=W({type:r,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[K([{provide:ge,useExisting:r}]),L]})}return r})();var I=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=v({type:r});static \u0275inj=y({})}return r})();function he(r,s){if(r&1){let e=V();i(0,"map-marker",35),p("mapClick",function(){let l=Z(e).$implicit,o=E();return B(o.focusOnMarker(l))}),n()}if(r&2){let e=s.$implicit,t=E();k("position",e.location)("label",e.title)("icon",t.getMarkerIcon(e))}}var se=(()=>{let s=class s{constructor(t,l,o,g){this._taskService=t,this.location=l,this.userService=o,this.router=g,this.center={lat:50.4501,lng:30.5234},this.zoom=13,this.tasks=[],this.isMenuOpen=!1,this.activeTaskId=null,this._taskService.get().subscribe(d=>this.tasks=d)}goBack(){this.location.back()}focusOnTask(t){this.center=t.location,this.zoom=15,this.activeTaskId=t.id}focusOnMarker(t){console.log(t),this.center=t.location,this.zoom=15,this.activeTaskId=t.id;let l=document.getElementById("task-"+t.id);l&&l.scrollIntoView({behavior:"smooth",block:"center"})}getMarkerIcon(t){return t.id===this.activeTaskId?"http://maps.google.com/mapfiles/ms/icons/blue-dot.png":"http://maps.google.com/mapfiles/ms/icons/red-dot.png"}back(){window.history.back()}goToDetails(){this.router.navigate(["/task"])}onMapReady(t){console.log("\u041A\u0430\u0440\u0442\u0430 \u0433\u043E\u0442\u043E\u0432\u0430!",t)}};s.\u0275fac=function(l){return new(l||s)(m(ee),m(Q),m(Y),m(q))},s.\u0275cmp=f({type:s,selectors:[["app-tasks"]],decls:107,vars:9,consts:[[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"documents-header"],[1,"documents-header-left"],[1,"documents-header-left__arrow"],[1,"material-icons",3,"click"],["routerlink","/profile","tabindex","0","ng-reflect-router-link","/profile",1,"documents-header-left__avatar"],["alt","","src","assets/default.png"],["translate","",1,"documents-header__title"],[1,"burger-wrap",3,"click"],[1,"burger"],[1,"documents-main-content","documents-main-content--task"],[1,"stats-dashboard"],[1,"stat-card","total"],[1,"stat-icon"],[1,"material-icons"],[1,"stat-info"],[1,"stat-number"],[1,"stat-label"],[1,"stat-card","in-progress"],[1,"stat-card","done"],[1,"stat-card","overdue"],["id","taskListPanel",1,"task-list-panel"],["id","taskkard",1,"taskkard","documents-main-row"],[1,"task-title"],[1,"documents-prop-wrap","documents_workers_box"],[1,"documents-prop-icon"],[1,"documents-prop-text"],[1,"more-options","w-btn",3,"click"],["id","taskListPanel",1,"task-list-panel","documents-main-row"],["id","taskkard",1,"taskkard"],[1,"documents-main-row"],["height","500px","width","100%",3,"mapReady","center","zoom"],[3,"position","label","icon","mapClick",4,"ngFor","ngForOf"],[3,"mapClick","position","label","icon"]],template:function(l,o){l&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),p("click",function(){return o.goBack()}),a(7,"arrow_back_ios"),n()(),i(8,"div",7),h(9,"img",8),n()(),i(10,"div",9),a(11,"Tasks"),n(),i(12,"div",10),p("click",function(){return o.isMenuOpen=!o.isMenuOpen}),h(13,"div",11),n()(),i(14,"div",1)(15,"div",2)(16,"div",12)(17,"div",13)(18,"div",14)(19,"div",15)(20,"i",16),a(21,"playlist_add_check"),n()(),i(22,"div",17)(23,"div",18),a(24,"23"),n(),i(25,"div",19),a(26,"Total Tasks"),n()()(),i(27,"div",20)(28,"div",15)(29,"i",16),a(30,"hourglass_empty"),n()(),i(31,"div",17)(32,"div",18),a(33,"8"),n(),i(34,"div",19),a(35,"In Progress"),n()()(),i(36,"div",21)(37,"div",15)(38,"i",16),a(39,"check_circle"),n()(),i(40,"div",17)(41,"div",18),a(42,"10"),n(),i(43,"div",19),a(44,"Completed"),n()()(),i(45,"div",22)(46,"div",15)(47,"i",16),a(48,"error"),n()(),i(49,"div",17)(50,"div",18),a(51,"5"),n(),i(52,"div",19),a(53,"Overdue"),n()()()(),i(54,"div",23)(55,"div",24),h(56,"h4",25),i(57,"div",26)(58,"div",27)(59,"span",16),a(60,"category"),n()(),i(61,"div",28),a(62," Category: Repair "),n()(),i(63,"div",26)(64,"div",27)(65,"span",16),a(66,"access_time"),n()(),i(67,"div",28),a(68," Time: 12:00 - 13:00 "),n()(),i(69,"div",26)(70,"div",27)(71,"span",16),a(72,"location_on"),n()(),i(73,"div",28),a(74," Address: 123 Main St. "),n()(),i(75,"button",29),p("click",function(d){return o.goToDetails(),d.stopPropagation()}),i(76,"i",16),a(77,"more_vert"),n(),a(78," More info "),n()()(),i(79,"div",30)(80,"div",31),h(81,"h4",25),i(82,"div",26)(83,"div",27)(84,"span",16),a(85,"category"),n()(),i(86,"div",28),a(87," Category: Repair "),n()(),i(88,"div",26)(89,"div",27)(90,"span",16),a(91,"access_time"),n()(),i(92,"div",28),a(93," Time: 12:00 - 13:00 "),n()(),i(94,"div",26)(95,"div",27)(96,"span",16),a(97,"location_on"),n()(),i(98,"div",28),a(99," Address: 123 Main St. "),n()(),i(100,"button",29),p("click",function(d){return o.goToDetails(),d.stopPropagation()}),i(101,"i",16),a(102,"more_vert"),n(),a(103," More info "),n()()(),i(104,"div",32)(105,"google-map",33),p("mapReady",function(d){return o.onMapReady(d)}),H(106,he,1,3,"map-marker",34),n()()()()()()()()),l&2&&(b("documents-wrapper--open",o.isMenuOpen),u(12),b("burger-wrap--open",o.isMenuOpen),u(),b("burger--close",o.isMenuOpen),u(92),k("center",o.center)("zoom",o.zoom),u(),k("ngForOf",o.tasks))},dependencies:[I,x,ae],styles:['@charset "UTF-8";.documents-main-content--task[_ngcontent-%COMP%]{width:100%}.more-options[_ngcontent-%COMP%]{max-width:235px}.documents-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.documents-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.stats-dashboard[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;gap:10px;padding:10px;margin-bottom:20px;background-color:var(--c-bg-secondary);border-radius:8px}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--doc-products);padding:8px;border-radius:5px;width:23%;font-size:12px;color:#fff}.stat-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:10px;color:#7494d3}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:var(--c-text-primary)}.stat-number[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:var(--c-text-primary)}.stat-label[_ngcontent-%COMP%]{font-size:10px}.task-list-panel[_ngcontent-%COMP%]{margin-top:20px;overflow-y:auto}.task1-card[_ngcontent-%COMP%], .task2-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;background-color:#333;border-radius:5px;padding:15px;margin-bottom:10px;transition:transform .3s ease}.task1-card[_ngcontent-%COMP%]:hover, .task2-card[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.task-title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#fff}.task-category[_ngcontent-%COMP%], .task-status[_ngcontent-%COMP%], .task-date[_ngcontent-%COMP%], .task-assigned[_ngcontent-%COMP%]{font-size:14px;color:#bbb}.task-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.task-actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{cursor:pointer;color:#e0e0e0;margin-left:10px;font-size:20px}.task-actions[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]:hover{color:#007bff}.fab[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;width:60px;height:60px;background-color:#007bff;color:#fff;border:none;border-radius:50%;font-size:36px;box-shadow:0 4px 6px #0000001a;cursor:pointer}.fab[_ngcontent-%COMP%]:hover{background-color:#0056b3}google-map[_ngcontent-%COMP%]{margin-top:20px}.map-legend[_ngcontent-%COMP%]{background-color:#444;padding:10px;border-radius:5px;margin-top:10px;color:#fff}.map-legend[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{width:10px;height:10px;border-radius:50%;display:inline-block;margin-right:10px}.map-legend[_ngcontent-%COMP%]   .urgent[_ngcontent-%COMP%]{background-color:red}.map-legend[_ngcontent-%COMP%]   .in-progress[_ngcontent-%COMP%]{background-color:#ff0}.map-legend[_ngcontent-%COMP%]   .done[_ngcontent-%COMP%]{background-color:green}@media (max-width: 768px){.more-options[_ngcontent-%COMP%]{max-width:175px}.task1-card[_ngcontent-%COMP%], .task2-card[_ngcontent-%COMP%]{flex-direction:column}.task-title[_ngcontent-%COMP%]{font-size:16px}.stat-card[_ngcontent-%COMP%]{width:48%;font-size:10px}.fab[_ngcontent-%COMP%]{width:50px;height:50px;font-size:30px}.task1-card[_ngcontent-%COMP%]{border:1px solid #ccc;padding:10px;margin-bottom:10px;border-radius:6px;transition:all .3s ease;cursor:pointer}.task1-card.active[_ngcontent-%COMP%]{border:2px solid #1976d2;background-color:#e3f2fd}}']});let r=s;return r})();var pe=[{path:"",component:se}],Qe=(()=>{let s=class s{};s.\u0275fac=function(l){return new(l||s)},s.\u0275mod=v({type:s}),s.\u0275inj=y({imports:[X,J.forChild(pe),I]});let r=s;return r})();export{Qe as TasksModule};
