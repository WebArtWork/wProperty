import{a as b}from"./chunk-LSJIHAM6.js";import{b as S}from"./chunk-IMUYPB5B.js";import{e as Y,h as G,k as H}from"./chunk-4JG5HFOE.js";import"./chunk-VV24HN3E.js";import{A as h,Ab as B,Ca as f,I as T,Ja as N,K as s,Ka as V,O as m,P as x,Q as F,Tb as P,U as y,V as j,Vb as R,Xa as O,Xb as k,Ya as z,_b as U,ac as q,ba as c,ca as o,da as n,ea as C,f as u,ia as M,ja as _,ka as d,mb as D,pb as $,ua as l,v as E,va as L,wa as w,z as v,zb as A}from"./chunk-7J63SMGH.js";function ee(t,e){if(t&1&&(o(0,"div",12),C(1,"img",13),n()),t&2){let p=d();s(),c("src",p.property.thumbs?p.url+p.property.thumbs:"assets/prop.jpg",T)}}function te(t,e){if(t&1&&(o(0,"a",14)(1,"div",15)(2,"span",9),l(3,"location_on"),n()(),o(4,"div",16),l(5),n()()),t&2){let p=d();c("routerLink",f("/property/",p.property._id)),s(5),w(" ",p.property.address," ")}}function re(t,e){if(t&1&&(o(0,"a",14)(1,"div",15)(2,"span",9),l(3,"holiday_village"),n()(),o(4,"div",16),l(5),n()()),t&2){let p=d();c("routerLink",f("/property/",p.property._id)),s(5),w(" ",p.property.types," ")}}function ie(t,e){if(t&1){let p=M();o(0,"div",7)(1,"span",10),_("click",function(){let i=v(p).$implicit,a=d();return h(a.updateType(i))}),l(2),n()()}if(t&2){let p=e.$implicit,r=d();s(2),L(r.type_icon[p])}}var K=(()=>{let e=class e{constructor(r,i,a,g,Q){this._propertyService=r,this._translate=i,this._alert=a,this._form=g,this._core=Q,this.url=P.url,this.types=this._propertyService.types,this.type_icon=this._propertyService.type_icon,this.form=this._form.getForm("property",b),this.load=new j}updateType(r){this._form.modal(this._propertyService.type_form[r],[],this.property).then(i=>{this._core.copy(i,this.property),this._propertyService.updateType(this.property)})}update(){this._form.modal(this.form,[],this.property).then(r=>{this._core.copy(r,this.property),this._propertyService.update(this.property)})}delete(){this._alert.question({text:this._translate.translate("Common.Are you sure you want to delete this property?"),buttons:[{text:this._translate.translate("Common.No")},{text:this._translate.translate("Common.Yes"),callback:()=>u(this,null,function*(){this._propertyService.delete(this.property).subscribe(()=>{this.load.emit()})})}]})}};e.\u0275fac=function(i){return new(i||e)(m(S),m(R),m(A),m(k),m(B))},e.\u0275cmp=x({type:e,selectors:[["app-myproperty"]],inputs:{property:"property"},outputs:{load:"load"},standalone:!1,decls:25,vars:13,consts:[[1,"property-card-wrap"],["class","property-card__img",4,"ngIf"],[1,"property-card__text"],[1,"property__name",3,"routerLink"],[1,"documents__title"],["class","property-loc",3,"routerLink",4,"ngIf"],[1,"property-links"],[1,"property-links__wrap"],[3,"routerLink"],[1,"material-icons"],[1,"material-icons",3,"click"],["class","property-links__wrap",4,"ngFor","ngForOf"],[1,"property-card__img"],["alt","",3,"src"],[1,"property-loc",3,"routerLink"],[1,"property-loc__img"],[1,"documents__title","property-loc__title"]],template:function(i,a){i&1&&(o(0,"div",0),y(1,ee,2,1,"div",1),o(2,"div",2)(3,"a",3)(4,"div",4),l(5),N(6,"translate"),n()(),y(7,te,6,3,"a",5)(8,re,6,3,"a",5),o(9,"div",6)(10,"div",7)(11,"a",8)(12,"span",9),l(13,"article"),n()()(),o(14,"div",7)(15,"span",10),_("click",function(){return a.update()}),l(16,"edit"),n()(),o(17,"div",7)(18,"a",8)(19,"span",9),l(20,"engineering"),n()()(),y(21,ie,3,1,"div",11),o(22,"div",7)(23,"span",10),_("click",function(){return a.delete()}),l(24,"delete"),n()()()()()),i&2&&(s(),c("ngIf",a.property.thumbs.length),s(2),c("routerLink",f("/property/",a.property._id)),s(2),w(" ",V(6,11,a.property.name||"Myproperties.Unknown property")," "),s(2),c("ngIf",a.property.address),s(),c("ngIf",a.property.types.length),s(3),c("routerLink",f("/records/",a.property._id)),s(7),c("routerLink",f("/jobs/",a.property._id)),s(3),c("ngForOf",a.types))},dependencies:[D,O,z,q],styles:[".property__img[_ngcontent-%COMP%]{margin-bottom:10px}.property__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:185px;border-radius:6px;object-fit:cover}.property__name[_ngcontent-%COMP%]   .documents__title[_ngcontent-%COMP%]{color:#aec1e7;font-size:18px}.property-loc[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;margin-bottom:10px}.property-loc__title[_ngcontent-%COMP%]{flex:1 0}.property-loc[_ngcontent-%COMP%]   .documents__title[_ngcontent-%COMP%]{padding:0 0 0 7px}.property-loc__img[_ngcontent-%COMP%]{width:28px;height:28px;background:#588df436;border-radius:5px;display:flex;align-items:center;justify-content:center}.property-loc__img[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;color:#aec1e7;font-size:20px}.property-links[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;padding-top:10px}.property-links__wrap[_ngcontent-%COMP%]{margin-right:10px;padding-right:10px;border-right:1px solid var(--c-text-primary);cursor:pointer}.property-links__wrap[_ngcontent-%COMP%]:last-child{border:unset}.property-links__wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;font-size:19px;color:var(--c-text-primary);transition:all .3s}.property-links__wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#aec1e7}.property-card-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.property-card__text[_ngcontent-%COMP%]{flex:1 0;padding-left:10px}.property-card__img[_ngcontent-%COMP%]{flex:0 0 200px}.property-card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10px}.property-loc__title[_ngcontent-%COMP%]{font-size:16px}.property-card__img[_ngcontent-%COMP%]{border-radius:10px}@media screen and (max-width: 767px){.property-links__wrap[_ngcontent-%COMP%]{margin-bottom:10px}}@media screen and (max-width: 479px){.property-card-wrap[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap}.property-card__img[_ngcontent-%COMP%]{flex:0 0 100%;max-width:210px}.property-card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:150px;width:100%;object-fit:cover;border-radius:6px}.property-card__text[_ngcontent-%COMP%]{padding:10px 0 0}}"]});let t=e;return t})();function ne(t,e){if(t&1){let p=M();o(0,"div",12)(1,"app-myproperty",13),_("load",function(){v(p);let i=d();return h(i.load())}),n()()}if(t&2){let p=e.$implicit;s(),c("property",p)}}var I=(()=>{let e=class e{constructor(r,i){this._propertyService=r,this._form=i,this.url=P.url,this.isMenuOpen=!1,this.properties=[],this.form=this._form.getForm("myproperty",b)}ngOnInit(){this.load()}load(){this._propertyService.get().subscribe(r=>{this.properties=r})}create(){this._form.modal(this.form,{label:"Create",click:(r,i)=>u(this,null,function*(){i(),this._preCreate(r),this._propertyService.create(r).subscribe(()=>{this.load()})})})}_preCreate(r){delete r.__created}};e.\u0275fac=function(i){return new(i||e)(m(S),m(k))},e.\u0275cmp=x({type:e,selectors:[["ng-component"]],standalone:!1,decls:16,vars:1,consts:[[1,"propperty-p"],[1,"documents-wrapper"],[1,"documents-container"],[1,"documents-list"],[1,"documents-header"],[1,"documents-header-left"],["translate","",1,"documents-header__title"],[1,"burger-wrap"],[1,"material-icons",3,"click"],[1,"documents-main"],[1,"documents-main-content"],["class","documents-main-row",4,"ngFor","ngForOf"],[1,"documents-main-row"],[3,"load","property"]],template:function(i,a){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),C(6,"core-back")(7,"core-profile"),n(),o(8,"div",6),l(9," Myproperties.My real estates "),n(),o(10,"div",7)(11,"i",8),_("click",function(){return a.create()}),l(12,"add"),n()()(),o(13,"div",9)(14,"div",10),y(15,ne,2,1,"div",11),n()()()()()()),i&2&&(s(15),c("ngForOf",a.properties))},dependencies:[U,O,Y,G,K],encapsulation:2});let t=e;return t})();var pe=[{path:"",component:I},{path:":properties/",component:I}],Ee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=F({type:e}),e.\u0275inj=E({imports:[$.forChild(pe),H]});let t=e;return t})();export{Ee as MypropertiesModule};
